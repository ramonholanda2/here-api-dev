<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Meus clientes sem visitas planejadas - SAP Fiori</title>

  <!-- HERE Maps -->
  <script src="https://js.api.here.com/v3/3.1/mapsjs-core.js"></script>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-service.js"></script>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-ui.js"></script>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js"></script>
  <link rel="stylesheet" href="https://js.api.here.com/v3/3.1/mapsjs-ui.css" />

  <!-- Axios (global) -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <!-- Seu CSS -->
  <link rel="stylesheet" type="text/css" href="/public/styles.css" />
</head>

<body>

  <div class="container">
    <div class="sidebar">
      <div class="sidebar-header">
        <div class="header-icon">üìã</div>
        <div class="header-content">
          <div class="header-title">Meus clientes sem visitas planejadas</div>
          <div class="header-info">Mostrando 1 - 9</div>
        </div>
      </div>

      <!-- ======= Filtros ======= -->
      <form id="filtersPanel" class="filters-panel" method="GET" action="">
        <div id="filtersFields" class="collapsible">
          <div class="filters-grid">
            <!--  <div class="filter-field">
              <label for="f_employee">Employee ID</label>
              <input type="text" id="f_employee" name="employeeID" readonly />
            </div> -->

            <div class="filter-field">
              <label for="f_nome">Nome do cliente</label>
              <input type="text" id="f_nome" name="nome" placeholder="Ex.: Cooperativa" autocomplete="on" />
            </div>

            <div class="filter-field">
              <label for="f_status">Status do cliente</label>
              <select id="f_status" name="statusCliente">
                <option value="">Todos</option>
                <option value="101">Engajado / Ativo</option>
                <option value="111">Aten√ß√£o moderada</option>
                <option value="121">Risco de inatividade</option>
                <option value="131">Inativo</option>
                <option value="141">Bloqueado</option>
                <option value="151">Bloq. Financeiro</option>
              </select>
            </div>

            <div class="filter-field">
              <label for="f_estado">Estado</label>
              <input type="text" id="f_estado" name="estado" placeholder="Ex.: PR" maxlength="2"
                autocapitalize="characters" />
            </div>

            <div class="filter-field">
              <label for="f_cidade">Cidade</label>
              <input type="text" id="f_cidade" name="cidade" placeholder="Ex.: Curitiba" autocomplete="on" />
            </div>

            <div class="filter-field">
              <label for="f_cnpj">CNPJ</label>
              <input type="text" id="f_cnpj" name="cnpj" placeholder="Ex.: 12.345.678/0001-90" inputmode="numeric"
                autocomplete="on" />
            </div>

            <div class="filter-field">
              <label for="f_idsap">ID SAP</label>
              <input type="text" id="f_idsap" name="idSap" placeholder="Ex.: 10001234" autocomplete="on" />
            </div>

            <div class="filter-field">
              <label for="f_regiao">Regi√£o (escrit√≥rio de vendas)</label>
              <input type="text" id="f_regiao" name="regiao" placeholder="Ex.: Sul" autocomplete="on" />
            </div>

            <div class="filter-field">
              <label for="f_equipe">Equipe de vendas</label>
              <input type="text" id="f_equipe" name="equipeVendas" placeholder="Ex.: Time A" autocomplete="on" />
            </div>

            <!--  <div class="filter-field">
              <label for="f_pin">Cor do pin</label>
              <select id="f_pin" name="pin">
                <option value="">(manter padr√£o)</option>
                <option value="vermelho">Vermelho</option>
                <option value="verde">Verde</option>
                <option value="cinza">Cinza</option>
              </select>
            </div> -->
          </div>
        </div>

        <div class="filters-actions">
          <button id="toggleFiltersBtn" class="fiori-button" type="button" aria-expanded="true"
            aria-controls="filtersPanel" title="Mostrar ou ocultar filtros">
            ‚¨ÜÔ∏è Ocultar filtros
          </button>
        </div>
      </form>

      <div class="sidebar-content">
        <div id="clientList" class="loading">Carregando clientes...</div>
      </div>

      <!--  <div class="pagination">
        <div>P√°gina 1 de 1</div>
        <div class="pagination-controls">
          <button class="pagination-button" disabled>‚Äπ</button>
          <button class="pagination-button" disabled>‚Ä∫</button>
        </div>
      </div> -->
    </div>

    <div id="mapContainer">
      <div class="action-bar">
        <!--  <button id="btnClearRoute" class="fiori-button">‚úï Limpar Rota</button>
        <button id="btnOptimizeRoute" class="fiori-button primary">üìç Calcular Rota</button> -->
        <button id="btnOpenFormRoute" class="fiori-button success">‚ûï Criar Rota</button>
        <button id="btnSelectShape" class="fiori-button warning">üß≠ Selecionar forma</button>
        <div id="shapeMenu" class="shape-menu hidden" role="menu" aria-labelledby="btnSelectShape">
          <button id="btnSelectArea" class="shape-option" data-shape="triangle" role="menuitem">üî∫ Tri√¢ngulo</button>
          <button id="btnSelectCircle" class="shape-option" data-shape="circle" role="menuitem">‚ö™ C√≠rculo</button>
          <button id="btnSelectSquare" class="shape-option" data-shape="square" role="menuitem">‚¨õ Quadrado</button>
        </div>


      </div>

      <div id="routeInfo" class="route-info">
        <div class="route-info-title">üó∫Ô∏è Informa√ß√µes da Rota Calculada</div>
        <div class="route-stats">
          <div class="route-stat">
            <div class="route-stat-label">Dist√¢ncia Total</div>
            <div class="route-stat-value" id="routeDistance">-- km</div>
          </div>
          <div class="route-stat">
            <div class="route-stat-label">Tempo Estimado</div>
            <div class="route-stat-value" id="routeDuration">-- min</div>
          </div>
          <div class="route-stat">
            <div class="route-stat-label">Clientes na Rota</div>
            <div class="route-stat-value" id="routeClients">--</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div id="FormRoute" class="fiori-modal hidden">
    <div class="fiori-modal-content improved-form">
      <div class="modal-header">
        <h2>Nova Rota</h2>
        <button class="close-btn" id="btnCloseForm">‚úï</button>
      </div>

      <div class="modal-section">
        <div class="form-grid">
          <div class="form-field">
            <label>Nome</label>
            <input type="text" id="routeName" placeholder="Ex: Rota Sul" />
          </div>

          <div class="form-field">
            <label>Tipo</label>
            <select disabled>
              <option>Rota</option>
            </select>
          </div>
        </div>

        <div class="form-grid">
          <div class="form-field">
            <label>Data de in√≠cio</label>
            <input type="date" id="routeDate" />
          </div>

          <div class="form-field">
            <label>Tipo da visita</label>
            <select id="routeTypeVisit">
              <option value="" selected disabled hidden></option>
              <option value="Z01">Visita de rotina</option>
              <option value="Z02">S√°bado Azul</option>
              <option value="Z03">Prospec√ß√£o de novo cliente</option>
              <option value="Z04">Visita de reativa√ß√£o de cliente inativo</option>
              <option value="Z05">Treinamento de produto</option>
              <option value="Z06">Inaugura√ß√£o de loja</option>
              <option value="Z07">Tratativa de reclama√ß√£o</option>
              <option value="Z08">Visitas Trade Marketing</option>
              <option value="Z09">Visitas √†s F√°bricas (Portas Abertas)</option>
            </select>
          </div>

        </div>

        <label class="section-label">Dias da semana</label>
        <div class="weekdays-container days-week">
          <label class="weekday-chip"><input type="checkbox">Segunda</label>
          <label class="weekday-chip"><input type="checkbox">Ter√ßa</label>
          <label class="weekday-chip"><input type="checkbox">Quarta</label>
          <label class="weekday-chip"><input type="checkbox">Quinta</label>
          <label class="weekday-chip"><input type="checkbox">Sexta</label>
          <label class="weekday-chip"><input type="checkbox">S√°bado</label>
          <label class="weekday-chip"><input type="checkbox">Domingo</label>
        </div>

        <div class="form-grid">
          <div class="form-field">
            <label>Organizador</label>
            <input id="routeOrganizer" value="" readonly />
          </div>
          <div class="form-field">
            <label>Propriet√°rio</label>
            <input id="routeOwner" value="" readonly />
          </div>
        </div>

        <div class="form-field">
          <label>Notas</label>
          <textarea id="routeNotes" rows="3" placeholder="Observa√ß√µes..."></textarea>
        </div>

        <h3 class="section-title">Clientes selecionados</h3>
        <div class="table-responsive">
          <table class="fiori-table improved-table" id="tableCustomers">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Endere√ßo</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <div class="modal-footer">
          <button class="btn-secondary" id="btnCancelForm">Cancelar</button>
          <button class="btn-primary" id="btnSaveForm">Salvar</button>
        </div>
      </div>
    </div>
  </div>
  <script type="module" src="/public/js/main.js"></script>
</body>

</html>